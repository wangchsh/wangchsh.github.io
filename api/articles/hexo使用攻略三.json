{"title":"hexo使用攻略 (三)","slug":"hexo使用攻略三","date":"2017-06-05T03:17:00.000Z","updated":"2017-06-05T14:14:45.450Z","comments":true,"excerpt":"","content":"<h1 id=\"其他配置\"><a href=\"#其他配置\" class=\"headerlink\" title=\"其他配置\"></a>其他配置</h1><p>到这里，我们已经了解了如何配置一个Hexo博客，并且通过</p>\n<pre><code>$ hexo n ‘name’\n$ hexo g\n$ hexo s\n$ hexo d\n</code></pre><p>几个常见命令来新建、更新、预览、同步你的博客。<br>这一节，我们来分享一下Hexo里关于分类和标签的设置技巧。</p>\n<h3 id=\"新建一个页面\"><a href=\"#新建一个页面\" class=\"headerlink\" title=\"新建一个页面\"></a>新建一个页面</h3><p>首先，我们通过<code>hexo n &quot;name&quot;</code>命令来新建一个页面，在<code>source/_posts</code>目录下找到刚才新建的<code>name.md</code>文件，用记事本或者<code>sublime text</code>打开。<br>我们看到默认的页面是这样的：</p>\n<pre><code>title: name\ndate: 2014-08-05 11:15:00 \ntags: \n---\n</code></pre><p>可以编辑标题、日期、标签和内容，但是没有分类的选项。我们可以手动加入<code>categories:</code>项，或者打开<code>scaffolds/post.md</code>文件，在tages:上面加入<code>categories:</code>,保存后，重新执行<code>hexo n &#39;name&#39;</code>命令，会发现新建的页面里有<code>categories:</code>项了。<br>scaffolds目录下，是新建页面的模板，执行新建命令时，是根据这里的模板页来完成的，所以可以在这里根据你自己的需求添加一些默认值。</p>\n<h3 id=\"设置分类列表\"><a href=\"#设置分类列表\" class=\"headerlink\" title=\"设置分类列表\"></a>设置分类列表</h3><p>在我们编辑文章的时候，直接在<code>categories:</code>项填写属于哪个分类，但如果分类是中文的时候，路径也会包含中文。<br>比如分类我们设置的是：</p>\n<pre><code>categories: 编程\n</code></pre><p>那在生成页面后，分类列表就会出现编程这个选项，他的访问路径是：</p>\n<pre><code>*/categories/编程\n</code></pre><p>如果我们想要把路径名和分类名分别设置，需要怎么办呢？<br>打开根目录下的配置文件<code>_config.yml</code>，找到如下位置做更改：</p>\n<pre><code># Category &amp; Tag\ndefault_category: uncategorized\ncategory_map:\n    编程: programming\n    生活: life\n    其他: other\ntag_map:\n</code></pre><p>在这里<code>category_map:</code>是设置分类的地方，每行一个分类，冒号前面是分类名称，后面是访问路径。<br>可以提前在这里设置好一些分类，当编辑的文章填写了对应的分类名时，就会自动的按照对应的路径来访问。</p>\n<h3 id=\"设置标签\"><a href=\"#设置标签\" class=\"headerlink\" title=\"设置标签\"></a>设置标签</h3><p>在编辑文章的时候，<code>tags:</code>后面是设置标签的地方，如果有多个标签的话，可以用下面两种办法来设置：</p>\n<pre><code>\ntages: [标签1,标签2,...标签n]\n</code></pre><pre><code>tages: \n- 标签1\n- 标签2\n...\n- 标签n\n</code></pre><h1 id=\"Hexo导航菜单设置\"><a href=\"#Hexo导航菜单设置\" class=\"headerlink\" title=\"Hexo导航菜单设置\"></a>Hexo导航菜单设置</h1><p>在Hexo里，默认的导航菜单只有<code>Home</code>和<code>Archives</code>两项，那么我们怎么来增加其他的导航菜单进去呢？<br>首先打开主题的配置文件<code>_config.yml</code>：</p>\n<pre><code>menu:\n  Home: /\n  Archives: /archives\n  About: /about\n</code></pre><p>我们看到的<code>menu:</code>部分是设置菜单的，我们在下面加了一项设置<code>About: /about</code><br>象上一节设置分类一样，前面部分是名称，后面部分是访问路径，当然名称神马的你可以用中文,访问路径你也可以直接设置到其他站点的任何页面。<br>我们这个示例里，设置<code>About</code>的访问路径为：<code>/about</code>。<br>下面我们来建立这个<code>about</code>，运行命令：</p>\n<pre><code>hexo n page ‘about’\n</code></pre><p>会在source目录里生成一个对应的about目录，该目录下的index.md，就是你访问About时的页面。</p>\n<p>#Hexo主题安装<br>嘿，我们搭建好了Hexo,设置好了导航菜单和分类，写了一些文章并且同步到GitHub上了，可我们不满足，我们想要页面看起来更好看一些。<br>我们可以通过安装主题的方式来快速选择喜欢的样式！<br>打开Hexo的;<a href=\"https://github.com/hexojs/hexo/wiki/Themes\" target=\"_blank\" rel=\"external\">Themes</a><br>找到你心仪的主题并且点击主题名称进入详细页面；<br>找到<code>install</code>这一项，复制下面的内容，比如Light主题的安装内容为：</p>\n<pre><code>git clone https://github.com/hexojs/hexo-theme-light.git themes/light\n</code></pre><p>在Hexo目录下运行上面复制的内容，就会自动下载该主题到你的Themes目录。<br>下载完毕后，在站点配置文件<code>_config.yml</code>里设置对应的主题名称：</p>\n<pre><code>theme: light\n</code></pre><p>根据自己的需要，配置主题的配置文件<code>_config.yml</code>;<br>OK，我们成功的安装了一个主题。</p>\n<p>#设置Hexo里的评论和分享<br>现在我们的Hexo安装了漂亮的主题，并且设置了导航菜单，也发布了几篇文章，是不是急不可耐的想和大家一起分享你的内容了？<br>在和朋友们分享文章的时候，有两个必不可少的功能，评论 和 分享，这一节我们就来了解一下这两个设置。</p>\n<h3 id=\"评论设置\"><a href=\"#评论设置\" class=\"headerlink\" title=\"评论设置\"></a>评论设置</h3><p>多说挂了，考虑GitHub Issues 来当评论系统<br>在Hexo中，默认使用的评论是国外的Disqus,不过因为国内的”网络环境”问题，我们改为国内的“多说”评论系统。</p>\n<p>修改comment文件<br>打开<code>themes/主题名/layout/_partial/comment.ejs</code>这个文件 ，在下面位置粘贴刚才复制的代码：</p>\n<pre><code>&lt;% if ( page.comments){ %&gt;\n&lt;section id=&quot;comment&quot;&gt;\n此处粘贴通用代码\n&lt;/section&gt;\n&lt;% } %&gt;\n</code></pre><p>记得粘贴完后，替换代码里的标题、网址、ID三项信息。<br>标题可以用<code>&lt;%= item.title %&gt;</code>来替换，<br>网址可以用<code>&lt;%- config.url %&gt;&lt;%- config.root%&gt;&lt;%- item.path %&gt;</code>来替换,<br>ID可以用<code>&lt;%- item.path %&gt;</code>来替换。<br>分享设置<br>访问百度分享,复制代码备用。<br>找到<code>themes/light/layout/_partial/post/share.ejs</code>页面，用刚才复制的代码替换里面的内容，搞定。<br>如果想要调换分享图标可参考百度分享的说明来修改。</p>\n<p>###添加RSS<br>用npm安装插件：</p>\n<pre><code>npm install hexo-generator-feed\n</code></pre><p>在配置文件里引用插件。在<code>hexo/_config.yml</code>添加代码：</p>\n<pre><code>plugins:\n- hexo-generator-feed\n</code></pre><p>在导航上添加RSS链接。打开<code>themes/light/_config.yml</code>文件，rss:部分修改为<code>rss: /atom.xml</code>,然后在<code>menu</code>部分添加<code>Rss: /atom.xml</code>。完成后代码类似下面的效果：</p>\n<pre><code>menu:\n  Home: /\n  Archives: /archives\n  Rss: /atom.xml\n</code></pre><h3 id=\"添加Sitemap\"><a href=\"#添加Sitemap\" class=\"headerlink\" title=\"添加Sitemap\"></a>添加Sitemap</h3><p>和RSS一样，需要下载个插件。<br>安装插件：</p>\n<pre><code>npm install hexo-generator-sitemap\n</code></pre><p>引用插件，同样在<code>hexo/_config.yml</code>中添加代码：</p>\n<pre><code>plugins:\n- hexo-generator-feed\n- hexo-generator-sitemap\n</code></pre><p>访问/sitemap.xml就能看到站点地图了。</p>\n<h3 id=\"为Hexo添加百度搜索\"><a href=\"#为Hexo添加百度搜索\" class=\"headerlink\" title=\"为Hexo添加百度搜索\"></a>为Hexo添加百度搜索</h3><p>默认的Hexo用的是Google的搜索，因为某些不可抗拒的原因，访问起来不是很流畅，所以我们设置成百度搜索。<br>打开<code>themes/light/layout/_widget/search.ejs</code>文件，里面内容替换为：</p>\n\n    <pre><code class=\"lang-html\"><span class=\"xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"search\"</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">form</span> <span class=\"hljs-attr\">action</span>=<span class=\"hljs-string\">\"//baidu.com/baidu\"</span> <span class=\"hljs-attr\">method</span>=<span class=\"hljs-string\">\"get\"</span> <span class=\"hljs-attr\">accept-charset</span>=<span class=\"hljs-string\">\"utf-8\"</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">input</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">\"search\"</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">\"word\"</span> <span class=\"hljs-attr\">results</span>=<span class=\"hljs-string\">\"0\"</span> <span class=\"hljs-attr\">placeholder</span>=<span class=\"hljs-string\">\"&lt;%=</span></span></span><span class=\"ruby\"> _<span class=\"hljs-number\">_</span>(<span class=\"hljs-string\">'search'</span>) </span><span class=\"xml\"><span class=\"hljs-tag\"><span class=\"hljs-string\">%&gt;\"</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">input</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">\"hidden\"</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">\"si\"</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">\"&lt;%-</span></span></span><span class=\"ruby\"> config.url.replace(<span class=\"hljs-regexp\">/^https?:\\/\\//</span>, <span class=\"hljs-string\">''</span>) </span><span class=\"xml\"><span class=\"hljs-tag\"><span class=\"hljs-string\">%&gt;\"</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">input</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">tn</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">hidden</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">\"bds\"</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">input</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">cl</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">hidden</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">\"3\"</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">input</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">ct</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">hidden</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">\"2097152\"</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">input</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">s</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">hidden</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">\"on\"</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">form</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n</span></code></pre>\n","categories":[{"name":"hexo","path":"api/categories/hexo.json"}],"tags":[{"name":"hexo","path":"api/tags/hexo.json"}]}